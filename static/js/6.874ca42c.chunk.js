(this["webpackJsonpreact-redux-saga-architecture-sample"]=this["webpackJsonpreact-redux-saga-architecture-sample"]||[]).push([[6],{203:function(e,t,a){"use strict";a(173);var n=a(197),r=(a(73),a(66)),l=(a(86),a(96)),o=(a(88),a(97)),c=(a(267),a(377)),u=a(200),i=a(0),s=a.n(i),m=a(212),p=function(e){var t=e.name,a=e.component,r=e.onChange,l=e.item,o=e.validate,c=e.label,u=e.options,p=Object(m.a)(e,["name","component","onChange","item","validate","label","options"]),f=function(e,a){r({name:t,value:e,error:a,touched:!0})},d=function(e){var t=e.target?e.target.value:e,a=o?o(t):null;f(t,a)};Object(i.useEffect)((function(){l.value&&d(l.value)}),[]);return s.a.createElement(n.a.Item,Object.assign({label:c,htmlFor:t,validateStatus:(null===l||void 0===l?void 0:l.value)?(null===l||void 0===l?void 0:l.error)?"error":"success":null,help:null===l||void 0===l?void 0:l.error},u),s.a.createElement(a,Object.assign({name:t,value:null===l||void 0===l?void 0:l.value,onBlur:function(){var e=o?o(null===l||void 0===l?void 0:l.value):null;f(null===l||void 0===l?void 0:l.value,e)},onChange:d},p)))};p.defaultProps={validate:null,item:void 0,label:void 0,options:{}};var f=p,d=a(135),v=a(71),b=function(e){var t=Object(i.useState)(function(e){return e.reduce((function(e,t){var a=t.name,n=t.initialValue;return Object(v.a)(Object(v.a)({},e),{},Object(d.a)({},a,{value:n,error:void 0,touched:!!n}))}),{})}(e)),a=Object(u.a)(t,2),n=a[0],r=a[1],l=Object(i.useState)(!1),o=Object(u.a)(l,2),c=o[0],s=o[1],m=Object(i.useMemo)((function(){return Object.entries(n).reduce((function(e,t){var a=Object(u.a)(t,2),n=a[0],r=a[1].value;return Object(v.a)(Object(v.a)({},e),{},Object(d.a)({},n,r))}),{})}),[n]);Object(i.useEffect)((function(){s(Object.values(n).map((function(e){return e.error})).filter((function(e){return!!e})))}),[n]);return[function(e){r(Object(v.a)(Object(v.a)({},n),{},Object(d.a)({},e.name,e)))},m,c,n]},g=function(e){var t=e.fields,a=e.onSubmit,i=e.layout,m=b(t),p=Object(u.a)(m,4),d=p[0],v=p[1],g=p[2],E=p[3];return s.a.createElement(n.a,{onFinish:function(){g.length?c.a.error({title:"Oops!",content:"Looks like there are some errors on the form, \n                  check them out and try again!"}):a(v)},layout:"vertical",className:"form-generator"},s.a.createElement(l.a,i,t.map((function(e){var t=e.component,a=e.name,n=e.placeholder,r=e.label,l=e.validate,c=e.options,u=e.layout,i=(u=void 0===u?{}:u).col;return s.a.createElement(o.a,Object.assign({},i,{key:a}),s.a.createElement(f,{component:t,name:a,placeholder:n,label:r||n,item:E[a],validate:l,options:c,onChange:d}))}))),s.a.createElement(r.a,{htmlType:"submit"},"Submit"))};g.defaultProps={layout:{}};t.a=g},339:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t);a(254);var n=a(41),r=a(381),l=a(0),o=a.n(l),c=a(67),u=a(169),i=a(151),s=(a(258),a(380)),m=a(162),p=a(72),f=a(22),d=(a(86),a(96)),v=(a(88),a(97)),b=(a(107),a(98)),g=(a(118),a(128)),E=a(207),h=(a(172),a(198)),j=a(203),O=function(e){var t=e.submitLogIn,a=[{name:"username",placeholder:"Username",component:h.a,layout:{col:{span:24}}},{name:"password",placeholder:"Password",layout:{col:{span:24}},component:h.a.Password}];return o.a.createElement("div",{className:"log-in-form"},o.a.createElement(j.a,{onSubmit:t,fields:a,layout:{gutter:16}}))};O.defaultProps={};var k=O,y=a(114),P=(a(339),o.a.createElement("p",null,"username: test",o.a.createElement("br",null),"password: test")),C=function(e){var t=e.logIn;return o.a.createElement(d.a,{className:"log-in",justify:"center",align:"middle"},o.a.createElement(v.a,{xs:24,md:12,lg:10},o.a.createElement(b.a,{title:"Log in",extra:o.a.createElement(g.a,{title:P},o.a.createElement(E.a,null))},o.a.createElement(k,{submitLogIn:t}))))};C.defaultProps={};var N={logIn:y.e},w=Object(c.c)(null,N)(C),x=function(e){return e.token?o.a.createElement("div",{className:"home"},Object(f.a)("Hello team")):o.a.createElement(w,null)};x.defaultProps={token:null};var I=Object(c.c)((function(e){return{token:e.auth.token}}))(x),L=(a(383),a(376)),S=(a(73),a(66)),T=a(103),H=a(76),A=(Object(H.shape)({id:H.number,title:H.string,body:H.string}),function(e){var t=e.post;return o.a.createElement(b.a,{title:t.title},t.body)});A.defaultProps={};var F=A,M=function(e){var t=e.fetchPosts,a=e.posts,n=e.newPost;return Object(l.useEffect)((function(){a.length||t()}),[]),o.a.createElement(b.a,{className:"posts-list",title:"Posts list",extra:o.a.createElement(S.a,{onClick:n},"Add Post")},o.a.createElement(L.b,{loading:!a.length},a.map((function(e){return o.a.createElement(L.b.Item,{key:e.id},o.a.createElement(F,{post:e}))}))))};M.defaultProps={};var J={fetchPosts:T.d,newPost:function(){return Object(u.push)(p.b)}},U=Object(c.c)((function(e){return{posts:e.posts.posts}}),J)(M),z=a(153),B=Object(l.lazy)((function(){return a.e(7).then(a.bind(null,390))})),D=[{title:"Home",path:p.a,Component:I,exact:!0,roles:[]},{title:"Posts",path:p.c,Component:U,exact:!0,roles:[z.a]},{title:"New",path:p.b,Component:B,exact:!0,roles:[z.a]}],K=function(e){var t=e.role,a=Object(l.useMemo)((function(){return D.filter((function(e){var a=e.roles;return!a.length||a.includes(t)}))}),[t]);return o.a.createElement(l.Suspense,{fallback:o.a.createElement(s.a,{active:!0})},o.a.createElement(m.d,null,a.map((function(e){var t=e.path,a=e.Component,n=e.exact;return o.a.createElement(m.b,{key:t,path:t,component:a,exact:n})})),o.a.createElement(m.a,{to:p.a})))};K.defaultProps={role:""};var V=K,q=(a(192),a(196)),G=a(11),Q=(a(386),a(382)),R=a(352),W=a.n(R),X=(a(371),function(e,t){return e.split("/").filter((function(e,a){return a<=t})).join("/")}),Y=function(e){var t=e.pathname,a=e.goTo,n=t?t.split("/"):[],r=function(e){return function(){a(e)}};return o.a.createElement(Q.a,{className:"breadcrumb"},o.a.createElement(Q.a.Item,{className:"clickable",onClick:r(p.a)},"Home"),n.map((function(e,a){return o.a.createElement(Q.a.Item,{key:e,className:a<n.length-1?"clickable":"",onClick:r(X(t,a))},W()(e))})))},Z=(a(193),a(199)),$=(a(372),a(391)),_={public:[{title:"Posts",path:p.c,icon:$.a}]},ee=q.a.Sider,te=function(e){var t=e.pathname,a=e.goTo,n=e.role,r=function(e){return function(){return a(e)}};return o.a.createElement(ee,{width:200,className:"sidebar"},o.a.createElement(Z.a,{mode:"inline",selectedKeys:t,className:"sidebar-menu"},_[n].map((function(e){var t=e.path,a=e.icon,n=e.title;return o.a.createElement(Z.a.Item,{key:t,icon:o.a.createElement(a,null),onClick:r(t)},n)}))))};te.defaultProps={role:"public"};var ae=te,ne=(a(373),q.a.Header),re=q.a.Content,le=q.a.Footer,oe=function(e,t){return o.a.createElement(S.a,{onClick:function(){return t(e)},type:"link"},e.toUpperCase())},ce=function(e){var t=e.children,a=e.pathname,n=e.goTo,r=e.language,c=e.setLanguage,u=e.token;Object(l.useEffect)((function(){G.a.changeLanguage(r)}),[r]);var i=!!u,s=!!u,m=!!u;return o.a.createElement(q.a,{className:"app-layout"},i&&o.a.createElement(ne,{className:"header"},o.a.createElement("span",null,"My App")),o.a.createElement(q.a,null,s&&o.a.createElement(ae,{pathname:a,goTo:n}),o.a.createElement(q.a,{className:"app-layout-content"},m&&o.a.createElement(Y,{pathname:a,goTo:n}),o.a.createElement(re,{className:"content"},t),o.a.createElement(le,null,o.a.createElement(d.a,null,o.a.createElement(v.a,{md:20},"Sample App Dev"),o.a.createElement(v.a,{md:4},oe("es",c),"/",oe("en",c)))))))};ce.defaultProps={token:null};var ue=ce,ie=(a(374),a(14)),se=function(e){var t=e.pathname,a=e.goTo,l=e.language,c=e.setLanguage,u=e.token,i=e.role,s=e.loading;return o.a.createElement(n.a,{locale:r.a},s&&o.a.createElement(ie.a,{transparent:!0}),o.a.createElement(ue,{goTo:a,pathname:t,language:l,setLanguage:c,token:u},o.a.createElement(V,{role:i})))};se.defaultProps={token:null,role:null};var me={goTo:u.push,setLanguage:i.b};t.default=Object(c.c)((function(e){var t=e.router.location,a=e.layout,n=a.language,r=a.loading,l=e.auth,o=l.token,c=l.role;return{pathname:t.pathname,language:n,loading:r,token:o,role:c}}),me)(se)}}]);
//# sourceMappingURL=6.874ca42c.chunk.js.map